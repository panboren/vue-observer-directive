"use strict";function DisplayDom(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.target,r=o.show,i=void 0===r?function(){}:r,n=o.hide,s=void 0===n?function(){}:n,v=o.threshold,c=void 0===v?.01:v,d=o.once,h=void 0!==d&&d,u=o.root,a=void 0===u?null:u;c=Math.max(Math.min(c,1),.01);try{var l=new window.IntersectionObserver((function(o){o[0].intersectionRatio>=c?(i(),h&&e.stop()):s()}),{threshold:[c],root:a});l.observe(t),this.stop=function(){l.disconnect()}}catch(e){console.error(e.message,"\n不支持IntersectionObserver，升级浏览器或代码使用polyfill: https://github.com/w3c/IntersectionObserver")}}var vueObserverDirective={inserted:function(e,o){var t=o.value,r=o.arg,i=o.modifiers;e.observer=new DisplayDom({target:e,show:"function"==typeof t?t:t.show,hide:t.hide,threshold:r/100||void 0,once:i.once,root:t.dom})},unbind:function(e){e.observer&&"function"==typeof e.observer.stop&&e.observer.stop()},install:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.directive(o.directive||"observer",vueObserverDirective)}};module.exports=vueObserverDirective;
